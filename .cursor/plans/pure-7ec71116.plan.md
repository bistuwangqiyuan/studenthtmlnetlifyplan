<!-- 7ec71116-0e83-44c2-b2e3-249e44c35d05 cb58f4dd-051f-4a38-b79f-fa9822a57860 -->
# 学生信息管理系统实施计划

## 基础结构

- 初始化纯静态前端 (`index.html`, `styles.css`, `app.js`) 和通用资源目录；定义移动优先 UI 框架（登录/注册 + 管理后台界面）
- 创建 `netlify.toml` 指定函数目录与重写规则，确保 API 请求指向 Netlify Functions

## 数据库与函数

- 设计 Neon 数据库 schema：`admins`, `students`, `courses`, `teachers`，含必要字段、时间戳
- 编写 `netlify/functions/db.js` 封装连接池，使用 `NETLIFY_DATABASE_URL_UNPOOLED`/`NETLIFY_DATABASE_URL`
- 实现 `init-db` 函数：执行建表语句并插入默认管理员（用户名 admin / 密码 admin 使用 bcrypt 哈希）

## 认证与资源 API

- `auth-register` 函数：创建管理员账号（限制重复），返回 JWT
- `auth-login` 函数：校验凭证，使用 bcrypt 比对，颁发 JWT
- 统一 `withAuth` 中间件验证 JWT，应用于增删改查函数
- CRUD 函数（students/courses/teachers）实现列表、查询、创建、更新、删除；处理中文字符集

## 前端交互

- 在 `app.js` 中实现登录/注册流程、JWT 存储、安全请求封装
- 构建管理界面表格与表单，完成学生/课程/教师信息增删改查交互（含输入验证、状态提示）
- 优化 UI：响应式布局、中文字段标签、易用按钮与提示

## 配置与交付

- 更新 `package.json` 引入 `bcryptjs`, `jsonwebtoken`, `pg`
- 提供本地运行说明及 Netlify 部署步骤（含如何调用 `init-db`）

### To-dos

- [ ] 创建静态前端文件、样式、JS 基础结构并配置 netlify.toml
- [ ] 设计 SQL schema 并实现数据库连接封装与初始化函数
- [ ] 完成管理员注册/登录 Netlify Functions 与 JWT 中间件
- [ ] 实现学生、课程、教师 CRUD Netlify Functions
- [ ] 实现前端登录、管理界面逻辑与响应式 UI
- [ ] 补充部署与初始化说明，进行功能自测